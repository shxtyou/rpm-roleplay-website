<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - RPM SMI</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body class="dark-theme">
    <div id="admin-auth" style="display: none;">
        <div class="admin-login-form">
            <h2>–î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
            <p>–¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∏–ª–∏ –≤—ã—à–µ</p>
            <button onclick="window.location.href='login.html'" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</button>
        </div>
    </div>

    <div id="admin-panel">
        <header class="admin-header">
            <div class="container">
                <div class="admin-header-content">
                    <h1>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RPM SMI</h1>
                    <div class="admin-user-info">
                        <span id="admin-user-name"></span>
                        <span id="admin-user-role"></span>
                        <button onclick="logout()" class="btn btn-secondary">–í—ã–π—Ç–∏</button>
                    </div>
                </div>
            </div>
        </header>

        <nav class="admin-nav">
            <div class="container">
                <ul>
                    <li><a href="#dashboard" class="admin-nav-link active" data-tab="dashboard">–î–∞—à–±–æ—Ä–¥</a></li>
                    <li><a href="#articles" class="admin-nav-link" data-tab="articles">–°—Ç–∞—Ç—å–∏</a></li>
                    <li><a href="#users" class="admin-nav-link" data-tab="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a></li>
                    <li><a href="#factions" class="admin-nav-link" data-tab="factions">–§—Ä–∞–∫—Ü–∏–∏</a></li>
                    <li><a href="#comments" class="admin-nav-link" data-tab="comments">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</a></li>
                    <li><a href="#settings" class="admin-nav-link" data-tab="settings" id="settings-tab" style="display: none;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
                </ul>
            </div>
        </nav>

        <main class="container">
            <!-- –î–∞—à–±–æ—Ä–¥ -->
            <div id="dashboard" class="admin-tab active">
                <h2>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <div class="stat-number" id="total-articles">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <div class="stat-number" id="total-users">0</div>
                            <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí¨</div>
                        <div class="stat-info">
                            <div class="stat-number" id="total-comments">0</div>
                            <div class="stat-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-info">
                            <div class="stat-number" id="online-players">0</div>
                            <div class="stat-label">–û–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤</div>
                        </div>
                    </div>
                </div>

                <div class="admin-actions">
                    <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                    <div class="actions-grid">
                        <button onclick="openTab('articles')" class="action-btn">
                            <div class="action-icon">üìù</div>
                            <div class="action-text">–ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è</div>
                        </button>
                        <button onclick="openTab('users')" class="action-btn">
                            <div class="action-icon">üë§</div>
                            <div class="action-text">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</div>
                        </button>
                        <button onclick="openTab('factions')" class="action-btn">
                            <div class="action-icon">üèõÔ∏è</div>
                            <div class="action-text">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–∞–∫—Ü–∏–∏</div>
                        </button>
                        <button onclick="openTab('comments')" class="action-btn">
                            <div class="action-icon">üí¨</div>
                            <div class="action-text">–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</div>
                        </button>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                    <div class="activity-list" id="recent-activity">
                        <!-- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏ -->
            <div id="articles" class="admin-tab">
                <div class="tab-header">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å—è–º–∏</h2>
                    <button onclick="showArticleForm()" class="btn btn-primary">+ –ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è</button>
                </div>

                <div class="articles-controls">
                    <select id="articles-filter" onchange="filterArticles()">
                        <option value="all">–í—Å–µ —Å—Ç–∞—Ç—å–∏</option>
                        <option value="published">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ</option>
                        <option value="draft">–ß–µ—Ä–Ω–æ–≤–∏–∫–∏</option>
                        <option value="moderation">–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</option>
                    </select>
                    <input type="text" id="articles-search" placeholder="–ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π..." onkeyup="searchArticles()">
                </div>

                <div class="articles-list" id="admin-articles-list">
                    <!-- –°—Ç–∞—Ç—å–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>

                <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ -->
                <div id="article-form-modal" class="modal" style="display: none;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="article-form-title">–ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è</h3>
                            <button onclick="closeArticleForm()" class="modal-close">√ó</button>
                        </div>
                        <div class="modal-body">
                            <form id="article-form">
                                <div class="form-group">
                                    <label for="article-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                                    <input type="text" id="article-title" required>
                                </div>
                                <div class="form-group">
                                    <label for="article-content">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</label>
                                    <textarea id="article-content" rows="10" required></textarea>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="article-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                                        <select id="article-category" required>
                                            <option value="politics">–ü–æ–ª–∏—Ç–∏–∫–∞</option>
                                            <option value="crime">–ö—Ä–∏–º–∏–Ω–∞–ª</option>
                                            <option value="society">–û–±—â–µ—Å—Ç–≤–æ</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="article-faction">–§—Ä–∞–∫—Ü–∏—è</label>
                                        <select id="article-faction">
                                            <option value="">–û–±—â–∞—è –Ω–æ–≤–æ—Å—Ç—å</option>
                                            <!-- –§—Ä–∞–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                                        </select>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="article-tags">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                                        <input type="text" id="article-tags" placeholder="–Ω–æ–≤–æ—Å—Ç–∏, —Å–æ–±—ã—Ç–∏—è, rpm">
                                    </div>
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="article-breaking"> 
                                            –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="article-publish" checked>
                                            –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É
                                        </label>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button type="button" onclick="saveArticle()" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç—å—é</button>
                                    <button type="button" onclick="closeArticleForm()" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
            <div id="users" class="admin-tab">
                <div class="tab-header">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                    <button onclick="showUserForm()" class="btn btn-primary" id="add-user-btn" style="display: none;">+ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                </div>

                <div class="users-list" id="admin-users-list">
                    <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏—è–º–∏ -->
            <div id="factions" class="admin-tab">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏—è–º–∏</h2>
                <div class="factions-admin-list" id="admin-factions-list">
                    <!-- –§—Ä–∞–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ -->
            <div id="comments" class="admin-tab">
                <h2>–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</h2>
                <div class="comments-list" id="admin-comments-list">
                    <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞) -->
            <div id="settings" class="admin-tab">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                <div class="settings-form">
                    <div class="form-group">
                        <label for="site-title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞</label>
                        <input type="text" id="site-title" value="RPM SMI">
                    </div>
                    <div class="form-group">
                        <label for="site-description">–û–ø–∏—Å–∞–Ω–∏–µ —Å–∞–π—Ç–∞</label>
                        <textarea id="site-description">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —à—Ç–∞—Ç–∞ | –°—Ä–µ–¥—Å—Ç–≤–∞ –ú–∞—Å—Å–æ–≤–æ–π –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</textarea>
                    </div>
                    <div class="form-group">
                        <label for="default-theme">–¢–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
                        <select id="default-theme">
                            <option value="dark">–¢—ë–º–Ω–∞—è</option>
                            <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                        </select>
                    </div>
                    <button onclick="saveSettings()" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </div>
        </main>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/articles.js"></script>
    <script src="js/stats.js"></script>
</body>
</html>
